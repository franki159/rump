var _0x4792=['html','infer','addExample','log','getNumClasses','There\x20is\x20no\x20examples\x20in\x20any\x20class','classify','#tbResult_Det','confidencesByLabel','includes','<tr\x20>\x20','<td>\x20</td>','<td\x20>','</td>\x20','%</td>\x20','</tr>','append','Esta\x20mascota\x20tiene\x20dueño!,\x20verifique\x20el\x20detalle\x20y\x20la\x20confiabilidad!','No\x20se\x20ha\x20encontrado\x20alguna\x20coincidencia\x20con\x20la\x20mascota\x20buscada..','clearAllClasses','getClassExampleCountByLabel','KNNClassifier','featureExtractor','MobileNet','#btnProcessRecognition','click','files','createObjectURL','getElementById','imgTomada','src','filesimgBuscar','change','json','addClass','loading','removeClass','parse','obj','length','bEstado','imglst','NOMBRE','GALERIA_ID','GALERIA','push','createElement','width','height','200','setAttribute','MASCOTA_ID_NAME','appendChild','Error\x20de\x20trx','Error\x20Valores\x20Null','POST','Recognition/mCargarImagenes','error','getElementsByTagName','IMG','img1','getTime'];(function(_0x16d5b3,_0x34db30){var _0x495c4a=function(_0x561a9b){while(--_0x561a9b){_0x16d5b3['push'](_0x16d5b3['shift']());}};_0x495c4a(++_0x34db30);}(_0x4792,0xcf));var _0x3795=function(_0x3620eb,_0x336c2b){_0x3620eb=_0x3620eb-0x0;var _0x5c1482=_0x4792[_0x3620eb];return _0x5c1482;};$body=$('body');let video;const knnClassifier=ml5[_0x3795('0x0')]();const featureExtractor=ml5[_0x3795('0x1')](_0x3795('0x2'),modelReady);$(document)['ready'](function(){debugger;$(_0x3795('0x3'))[_0x3795('0x4')](function(){mCargarImagenes();});});function handleFileSelectfilesimgBuscar(_0x31b641){var _0x527b55=_0x31b641['target'][_0x3795('0x5')];var _0x441bb2=URL[_0x3795('0x6')](_0x31b641['target'][_0x3795('0x5')][0x0]);document[_0x3795('0x7')](_0x3795('0x8'))[_0x3795('0x9')]=_0x441bb2;}document[_0x3795('0x7')](_0x3795('0xa'))['addEventListener'](_0x3795('0xb'),handleFileSelectfilesimgBuscar,![]);var DataInfoRepository=[];function mObtenerImagenes(){debugger;var _0x2d1341=xUrl_WebAdmin;var _0x245261=xUrl_Imagenes;var _0x918f78='';var _0x286da0='';$['ajax']({'type':'POST','url':_0x2d1341+'Recognition/mObtenerImagenes','data':{},'dataType':_0x3795('0xc'),'beforeSend':function(){$body[_0x3795('0xd')](_0x3795('0xe'));},'complete':function(_0x1e572e){$body[_0x3795('0xf')](_0x3795('0xe'));},'success':function(_0x8d71a3){var _0x35a5f2=JSON[_0x3795('0x10')](_0x8d71a3);if(_0x35a5f2[_0x3795('0x11')]!=null){var _0x4dc205=_0x35a5f2[_0x3795('0x11')];var _0x1afb3a=_0x35a5f2[_0x3795('0x11')][_0x3795('0x12')];if(_0x35a5f2[_0x3795('0x13')]==!![]){var _0x599e76=document[_0x3795('0x7')](_0x3795('0x14'));if(_0x1afb3a>0x0){for(var _0x2584ce in _0x4dc205){var _0x1cf5f6=_0x4dc205[_0x2584ce]['MASCOTA_ID_NAME'];var _0xf58d8=_0x4dc205[_0x2584ce][_0x3795('0x15')];var _0x435715=_0x4dc205[_0x2584ce][_0x3795('0x16')];var _0x2d6cb6=_0x245261+_0x4dc205[_0x2584ce][_0x3795('0x17')];var _0x30ca94={'MASCOTA_ID_NAME':_0x1cf5f6,'NOMBRE':_0xf58d8,'GALERIA_ID':_0x435715,'GALERIA':_0x2d6cb6};DataInfoRepository[_0x3795('0x18')](_0x30ca94);var _0x14bee5=document[_0x3795('0x19')]('IMG');_0x14bee5['src']=_0x2d6cb6;_0x14bee5[_0x3795('0x1a')]='200';_0x14bee5[_0x3795('0x1b')]=_0x3795('0x1c');_0x14bee5[_0x3795('0x1d')](_0x3795('0x1e'),_0x1cf5f6);_0x14bee5[_0x3795('0x1d')](_0x3795('0x15'),_0xf58d8);_0x599e76[_0x3795('0x1f')](_0x14bee5);}}}else{alert(_0x3795('0x20'));}}else{alert(_0x3795('0x21'));}},'error':function(_0x5bc8a9,_0x5f7ac6,_0x89ac4c){var _0x226eef='';alert('error');}});}function mCargarImagenes(){debugger;clearAllClasses();var _0x5dd0d5=xUrl_WebAdmin;$['ajax']({'type':_0x3795('0x22'),'url':_0x5dd0d5+_0x3795('0x23'),'data':{},'dataType':_0x3795('0xc'),'beforeSend':function(){$body[_0x3795('0xd')](_0x3795('0xe'));},'complete':function(_0x558d42){},'success':function(_0x45b180){mObtenerImagenesCargadas();classify();$body[_0x3795('0xf')]('loading');},'error':function(_0x5a5f30,_0x2eb1e3,_0x47feb7){var _0x35ecb4='';alert(_0x3795('0x24'));}});}function mObtenerImagenesCargadas(){debugger;var _0xb78403=document['getElementById'](_0x3795('0x14'));var _0x58586a=_0xb78403[_0x3795('0x25')](_0x3795('0x26'));debugger;for(k in DataInfoRepository){var _0x1ec144=DataInfoRepository[k][_0x3795('0x1e')];var _0x39df67=DataInfoRepository[k][_0x3795('0x15')];var _0x25a1dd=DataInfoRepository[k][_0x3795('0x16')];var _0x2e6454=DataInfoRepository[k][_0x3795('0x17')];document[_0x3795('0x7')](_0x3795('0x27'))['src']=_0x2e6454;var _0x4bb70a=document[_0x3795('0x7')](_0x3795('0x27'));var _0xe1d72e=''+_0x1ec144;addExample(_0xe1d72e,_0x4bb70a);}}function wait(_0x5f362f){var _0xe023fc=new Date()[_0x3795('0x28')]();var _0x129343=_0xe023fc;while(_0x129343<_0xe023fc+_0x5f362f){_0x129343=new Date()[_0x3795('0x28')]();}}function setup(){$body['addClass']('loading');}function modelReady(){$body['removeClass'](_0x3795('0xe'));select('#status')[_0x3795('0x29')]('RUMP\x20-\x20Recognition\x20model\x20Loaded');mObtenerImagenes();}function addExample(_0x594bb2,_0x344ce9){try{const _0x2d3bb6=featureExtractor[_0x3795('0x2a')](_0x344ce9);knnClassifier[_0x3795('0x2b')](_0x2d3bb6,_0x594bb2);}catch(_0x4d98a1){console[_0x3795('0x24')](_0x4d98a1);alert(_0x4d98a1);}console[_0x3795('0x2c')](_0x3795('0x2b'));}function classify(){const _0x2c6550=knnClassifier[_0x3795('0x2d')]();if(_0x2c6550<=0x0){console['error'](_0x3795('0x2e'));return;}var _0x45296b=document[_0x3795('0x7')](_0x3795('0x8'));const _0x95dd02=featureExtractor['infer'](_0x45296b);knnClassifier[_0x3795('0x2f')](_0x95dd02,gotResults);}function gotResults(_0x1d74f5,_0x48b758){var _0x2cd59f=xConfiabilidad;$(_0x3795('0x30'))['html']('');if(_0x1d74f5){console[_0x3795('0x24')](_0x1d74f5);alert(_0x1d74f5);return;}if(_0x48b758[_0x3795('0x31')]){const _0x3f8b22=_0x48b758[_0x3795('0x31')];var _0x4cd731=![];var _0x25fed4;var _0x2dffe7=[];for(k in DataInfoRepository){debugger;var _0x46b8d2=DataInfoRepository[k]['MASCOTA_ID_NAME'];var _0x413627=DataInfoRepository[k][_0x3795('0x15')];var _0x18bf62=DataInfoRepository[k][_0x3795('0x16')];var _0xbc1a3e=DataInfoRepository[k][_0x3795('0x17')];var _0x365ab5=_0x3f8b22[_0x46b8d2]*0x64;if(parseFloat(_0x365ab5)>=parseFloat(_0x2cd59f)){_0x4cd731=!![];if(!_0x2dffe7[_0x3795('0x32')](_0x46b8d2)){_0x2dffe7[_0x3795('0x18')](_0x46b8d2);var _0x2d618c=_0x3795('0x33')+_0x3795('0x34')+_0x3795('0x35')+_0x46b8d2+_0x3795('0x36')+_0x3795('0x35')+_0x413627+_0x3795('0x36')+_0x3795('0x35')+_0x365ab5+_0x3795('0x37')+_0x3795('0x38');$(_0x3795('0x30'))[_0x3795('0x39')](_0x2d618c);}}}if(_0x4cd731==!![])mAlertMsg(_0x3795('0x3a'),0x0);else mAlertMsg(_0x3795('0x3b'),0x2);}var _0x3b71a6=_0x48b758[_0x3795('0x31')];console[_0x3795('0x2c')](_0x48b758);}function clearAllClasses(){knnClassifier[_0x3795('0x3c')]();updateExampleCounts();}function updateExampleCounts(){const _0x1a7aaf=knnClassifier[_0x3795('0x3d')]();}