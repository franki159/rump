var _0x1b9f=['imgTomada','classify','#tbResult_Det','confidencesByLabel','includes','<tr\x20>\x20','<td>\x20</td>','<td\x20>','</td>\x20','%</td>\x20','</tr>','append','Esta\x20mascota\x20tiene\x20dueño!,\x20verifique\x20el\x20detalle\x20y\x20la\x20confiabilidad!','No\x20se\x20ha\x20encontrado\x20alguna\x20coincidencia\x20con\x20la\x20mascota\x20buscada..','clearAllClasses','getClassExampleCountByLabel','body','KNNClassifier','featureExtractor','MobileNet','ready','#btnProcessRecognition','click','target','files','createObjectURL','src','addEventListener','change','ajax','Recognition/mObtenerImagenes','json','addClass','loading','parse','obj','bEstado','getElementById','imglst','NOMBRE','GALERIA_ID','push','createElement','IMG','width','200','height','MASCOTA_ID_NAME','setAttribute','appendChild','Error\x20de\x20trx','Error\x20Valores\x20Null','error','POST','Recognition/mObtenerImagenes_filtro','removeClass','GALERIA','No\x20se\x20encontro\x20infromacion','value','text','#cmbTIPO','val','html','Recognition/mTipo','length','cmbTIPO','No\x20se\x20encuentra\x20informacion.','Error\x20','#cmbRAZA','Recognition/mRaza','cmbRAZA','Url_WebAdmin','Recognition/mDepartamento','DEPARTAMENTO','Recognition/mCargarImagenes','img1','canvas','getContext','drawImage','toDataURL','image/png','replace','getTime','#status','RUMP\x20-\x20Recognition\x20model\x20Loaded','infer','addExample','log','getNumClasses'];(function(_0x488609,_0x12c41c){var _0x5a84a2=function(_0x5771b2){while(--_0x5771b2){_0x488609['push'](_0x488609['shift']());}};_0x5a84a2(++_0x12c41c);}(_0x1b9f,0x174));var _0x1084=function(_0x518208,_0x21c1ee){_0x518208=_0x518208-0x0;var _0x3b1fbc=_0x1b9f[_0x518208];return _0x3b1fbc;};$body=$(_0x1084('0x0'));let video;const knnClassifier=ml5[_0x1084('0x1')]();const featureExtractor=ml5[_0x1084('0x2')](_0x1084('0x3'),modelReady);$(document)[_0x1084('0x4')](function(){mTipo();$(_0x1084('0x5'))[_0x1084('0x6')](function(){mCargarImagenes();});});function handleFileSelectfilesimgBuscar(_0x15fed2){var _0xc4a8cf=_0x15fed2[_0x1084('0x7')][_0x1084('0x8')];var _0x38c596=URL[_0x1084('0x9')](_0x15fed2[_0x1084('0x7')][_0x1084('0x8')][0x0]);document['getElementById']('imgTomada')[_0x1084('0xa')]=_0x38c596;}document['getElementById']('filesimgBuscar')[_0x1084('0xb')](_0x1084('0xc'),handleFileSelectfilesimgBuscar,![]);var DataInfoRepository=[];function mObtenerImagenes(){var _0x49c3c1=xUrl_WebAdmin;var _0x1165e3=xUrl_Imagenes;var _0x499c4e='';var _0x3ad911='';$[_0x1084('0xd')]({'type':'POST','url':_0x49c3c1+_0x1084('0xe'),'data':{},'dataType':_0x1084('0xf'),'beforeSend':function(){$body[_0x1084('0x10')](_0x1084('0x11'));},'complete':function(_0x326287){$body['removeClass'](_0x1084('0x11'));},'success':function(_0x4f64f2){var _0x493cd2=JSON[_0x1084('0x12')](_0x4f64f2);if(_0x493cd2['obj']!=null){var _0x39cc64=_0x493cd2['obj'];var _0x4260d1=_0x493cd2[_0x1084('0x13')]['length'];if(_0x493cd2[_0x1084('0x14')]==!![]){var _0x1cc78b=document[_0x1084('0x15')](_0x1084('0x16'));if(_0x4260d1>0x0){for(var _0x24fc6e in _0x39cc64){var _0x31ee04=_0x39cc64[_0x24fc6e]['MASCOTA_ID_NAME'];var _0x2006cf=_0x39cc64[_0x24fc6e][_0x1084('0x17')];var _0x2eeb10=_0x39cc64[_0x24fc6e][_0x1084('0x18')];var _0x14f529=_0x1165e3+_0x39cc64[_0x24fc6e]['GALERIA'];var _0x19f59b={'MASCOTA_ID_NAME':_0x31ee04,'NOMBRE':_0x2006cf,'GALERIA_ID':_0x2eeb10,'GALERIA':_0x14f529};DataInfoRepository[_0x1084('0x19')](_0x19f59b);var _0x30da01=document[_0x1084('0x1a')](_0x1084('0x1b'));_0x30da01[_0x1084('0xa')]=_0x14f529;_0x30da01[_0x1084('0x1c')]=_0x1084('0x1d');_0x30da01[_0x1084('0x1e')]=_0x1084('0x1d');_0x30da01['setAttribute'](_0x1084('0x1f'),_0x31ee04);_0x30da01[_0x1084('0x20')](_0x1084('0x17'),_0x2006cf);_0x1cc78b[_0x1084('0x21')](_0x30da01);}}}else{alert(_0x1084('0x22'));}}else{alert(_0x1084('0x23'));}},'error':function(_0x578c07,_0xc7b6cc,_0x11de5f){var _0x573157='';alert(_0x1084('0x24'));}});}function mObtenerImagenes_filtro(_0xd226a9,_0x3bda90){var _0x474b84=xUrl_WebAdmin;var _0x144a70=xUrl_Imagenes;var _0x202205='';var _0x294c70='';$[_0x1084('0xd')]({'type':_0x1084('0x25'),'url':_0x474b84+_0x1084('0x26'),'data':{'sTipoID':_0xd226a9,'sRazaID':_0x3bda90},'dataType':'json','beforeSend':function(){$body[_0x1084('0x10')](_0x1084('0x11'));},'complete':function(_0x4037b0){$body[_0x1084('0x27')](_0x1084('0x11'));},'success':function(_0x147016){var _0x89cec2=JSON[_0x1084('0x12')](_0x147016);if(_0x89cec2[_0x1084('0x13')]!=null){var _0x59c061=_0x89cec2[_0x1084('0x13')];var _0x18a41e=_0x89cec2[_0x1084('0x13')]['length'];if(_0x89cec2[_0x1084('0x14')]==!![]){var _0x195b48=document['getElementById'](_0x1084('0x16'));if(_0x18a41e>0x0){for(var _0x5d795c in _0x59c061){var _0x517085=_0x59c061[_0x5d795c][_0x1084('0x1f')];var _0x4d2564=_0x59c061[_0x5d795c][_0x1084('0x17')];var _0x4d9334=_0x59c061[_0x5d795c][_0x1084('0x18')];var _0x7b8d75=_0x144a70+_0x59c061[_0x5d795c][_0x1084('0x28')];var _0x42f904={'MASCOTA_ID_NAME':_0x517085,'NOMBRE':_0x4d2564,'GALERIA_ID':_0x4d9334,'GALERIA':_0x7b8d75};DataInfoRepository[_0x1084('0x19')](_0x42f904);var _0x2ee91e=document[_0x1084('0x1a')](_0x1084('0x1b'));_0x2ee91e[_0x1084('0xa')]=_0x7b8d75;_0x2ee91e[_0x1084('0x1c')]='200';_0x2ee91e[_0x1084('0x1e')]='200';_0x2ee91e[_0x1084('0x20')](_0x1084('0x1f'),_0x517085);_0x2ee91e[_0x1084('0x20')](_0x1084('0x17'),_0x4d2564);_0x195b48[_0x1084('0x21')](_0x2ee91e);}}else mAlertMsg(_0x1084('0x29'),0x1);}else{alert(_0x1084('0x22'));}}else{alert(_0x1084('0x23'));}},'error':function(_0x3533ec,_0x2c1b30,_0x3436fa){var _0x47af63='';alert(_0x1084('0x24'));}});}function mTipoSelect(_0x1d8a5d){debugger;var _0x4f4345=_0x1d8a5d['text'];var _0x1dc911=_0x1d8a5d[_0x1084('0x2a')];mRaza(_0x1dc911);}function mRazaSelect(_0x50d457){debugger;var _0x3e33de=_0x50d457[_0x1084('0x2b')];var _0x14aeea=_0x50d457[_0x1084('0x2a')];var _0x3be1d6=$(_0x1084('0x2c'))[_0x1084('0x2d')]();mObtenerImagenes_filtro(_0x3be1d6,_0x14aeea);}function mDepartamentoSelect(_0x2106c3){debugger;var _0x4ed053=_0x2106c3[_0x1084('0x2b')];var _0x35487c=_0x2106c3['value'];}function mTipo(){debugger;$(_0x1084('0x2c'))[_0x1084('0x2e')]('');var _0xddfe1a=xUrl_WebAdmin;$['ajax']({'type':_0x1084('0x25'),'url':_0xddfe1a+_0x1084('0x2f'),'data':{},'dataType':_0x1084('0xf'),'beforeSend':function(){$body[_0x1084('0x10')](_0x1084('0x11'));},'complete':function(_0x473535){$body['removeClass'](_0x1084('0x11'));},'success':function(_0x337db1){var _0x4cbfe4=JSON[_0x1084('0x12')](_0x337db1);if(_0x4cbfe4[_0x1084('0x13')]!=null){var _0x52f123=_0x4cbfe4[_0x1084('0x13')];var _0x5893d3=_0x4cbfe4[_0x1084('0x13')][_0x1084('0x30')];if(_0x4cbfe4[_0x1084('0x14')]==!![]){if(_0x5893d3>0x0){for(var _0x5a6822 in _0x52f123){var _0x472d84=_0x52f123[_0x5a6822]['ID'];var _0x4ec7ca=_0x52f123[_0x5a6822][_0x1084('0x17')];cmbControl(_0x1084('0x31'),_0x472d84,_0x4ec7ca);}mRaza(0x1);}else{mAlertMsg(_0x1084('0x32'),0x1);}}else{mAlertMsg(_0x1084('0x22'),0x1);}}else{mAlertMsg(_0x1084('0x23'),0x1);}},'error':function(_0x514dda,_0x2b9f80,_0xcabaa1){var _0x12031d='';mAlertMsg(_0x1084('0x33'),0x1);}});}function mRaza(_0x251c8d){debugger;$(_0x1084('0x34'))[_0x1084('0x2e')]('');var _0x40f640=xUrl_WebAdmin;$['ajax']({'type':_0x1084('0x25'),'url':_0x40f640+_0x1084('0x35'),'data':{'sTipoID':_0x251c8d},'dataType':'json','beforeSend':function(){$body[_0x1084('0x10')](_0x1084('0x11'));},'complete':function(_0x5d4251){$body[_0x1084('0x27')]('loading');},'success':function(_0x58b2cf){var _0x5707b5=JSON['parse'](_0x58b2cf);if(_0x5707b5[_0x1084('0x13')]!=null){var _0x3161c5=_0x5707b5[_0x1084('0x13')];var _0x38de59=_0x5707b5[_0x1084('0x13')]['length'];if(_0x5707b5['bEstado']==!![]){if(_0x38de59>0x0){for(var _0x5757e5 in _0x3161c5){var _0x5ee329=_0x3161c5[_0x5757e5]['ID'];var _0x43b5ca=_0x3161c5[_0x5757e5]['NOMBRE'];cmbControl(_0x1084('0x36'),_0x5ee329,_0x43b5ca);}}else{mAlertMsg('No\x20se\x20encuentra\x20informacion.',0x1);}}else{mAlertMsg('Error\x20de\x20trx',0x1);}}else{mAlertMsg('Error\x20Valores\x20Null',0x1);}},'error':function(_0x1d4d7b,_0x51e7e5,_0x1cf7a0){var _0x2b00c6='';mAlertMsg('error.',0x1);}});}function mDepartamento(){debugger;$('#cmbDEPARTAMENTO')[_0x1084('0x2e')]('');$[_0x1084('0xd')]({'type':_0x1084('0x25'),'url':this[_0x1084('0x37')]+_0x1084('0x38'),'data':{},'dataType':_0x1084('0xf'),'beforeSend':function(){$body['addClass'](_0x1084('0x11'));},'complete':function(_0x2587c6){$body['removeClass']('loading');},'success':function(_0x599151){var _0xc7f07a=JSON[_0x1084('0x12')](_0x599151);if(_0xc7f07a[_0x1084('0x13')]!=null){var _0x55e4cd=_0xc7f07a[_0x1084('0x13')];var _0xea11c4=_0xc7f07a[_0x1084('0x13')][_0x1084('0x30')];if(_0xc7f07a[_0x1084('0x14')]==!![]){if(_0xea11c4>0x0){for(var _0x146da0 in _0x55e4cd){var _0xca6b46=_0x55e4cd[_0x146da0][_0x1084('0x39')];cmbControl('cmbDEPARTAMENTO',_0xca6b46,_0xca6b46);}}else{mAlertMsg('No\x20se\x20encuentra\x20informacion.',0x1);}}else{mAlertMsg(_0x1084('0x22'),0x1);}}else{mAlertMsg(_0x1084('0x23'),0x1);}},'error':function(_0x5385e5,_0x1ea344,_0x2a8985){var _0x29294d='';mAlertMsg(_0x1084('0x33'),0x1);}});}function mCargarImagenes(){clearAllClasses();var _0x199b26=xUrl_WebAdmin;$[_0x1084('0xd')]({'type':_0x1084('0x25'),'url':_0x199b26+_0x1084('0x3a'),'data':{},'dataType':_0x1084('0xf'),'beforeSend':function(){$body[_0x1084('0x10')]('loading');},'complete':function(_0x46a0c6){},'success':function(_0xe026bf){mObtenerImagenesCargadas();classify();$body[_0x1084('0x27')]('loading');},'error':function(_0x2ef4da,_0x350201,_0x4e7276){var _0x1a0a87='';alert(_0x1084('0x24'));}});}function mObtenerImagenesCargadas(){for(k in DataInfoRepository){var _0x25711a=DataInfoRepository[k][_0x1084('0x1f')];var _0x56adc7=DataInfoRepository[k][_0x1084('0x17')];var _0x242ed7=DataInfoRepository[k][_0x1084('0x18')];var _0x3e413d=DataInfoRepository[k]['GALERIA'];document[_0x1084('0x15')](_0x1084('0x3b'))[_0x1084('0xa')]=_0x3e413d;var _0x250935=document[_0x1084('0x15')](_0x1084('0x3b'));var _0x1825f4=''+_0x25711a;addExample(_0x1825f4,_0x250935);var _0x2db963='';}}function getBase64Image(_0x3b62ee){var _0x5ee903=document['createElement'](_0x1084('0x3c'));_0x5ee903[_0x1084('0x1c')]=_0x3b62ee['width'];_0x5ee903[_0x1084('0x1e')]=_0x3b62ee['height'];var _0x42112e=_0x5ee903[_0x1084('0x3d')]('2d');_0x42112e[_0x1084('0x3e')](_0x3b62ee,0x0,0x0);var _0x2a1d52=_0x5ee903[_0x1084('0x3f')](_0x1084('0x40'));return _0x2a1d52[_0x1084('0x41')](/^data:image\/(png|jpg);base64,/,'');}function wait(_0x300604){var _0x1927cb=new Date()['getTime']();var _0x26cbb0=_0x1927cb;while(_0x26cbb0<_0x1927cb+_0x300604){_0x26cbb0=new Date()[_0x1084('0x42')]();}}function setup(){$body['addClass'](_0x1084('0x11'));}function modelReady(){$body[_0x1084('0x27')]('loading');select(_0x1084('0x43'))['html'](_0x1084('0x44'));mObtenerImagenes();}function addExample(_0x28ff7d,_0x1263f7){try{const _0x406cbf=featureExtractor[_0x1084('0x45')](_0x1263f7);knnClassifier[_0x1084('0x46')](_0x406cbf,_0x28ff7d);}catch(_0x4a4a2f){console[_0x1084('0x24')](_0x4a4a2f);alert(_0x4a4a2f);}console[_0x1084('0x47')](_0x1084('0x46'));}function classify(){const _0x516644=knnClassifier[_0x1084('0x48')]();if(_0x516644<=0x0){console['error']('There\x20is\x20no\x20examples\x20in\x20any\x20class');return;}var _0x5cff2a=document[_0x1084('0x15')](_0x1084('0x49'));const _0x229dee=featureExtractor['infer'](_0x5cff2a);knnClassifier[_0x1084('0x4a')](_0x229dee,gotResults);}function gotResults(_0x57237c,_0x50456d){var _0x479eb4=xConfiabilidad;$(_0x1084('0x4b'))['html']('');if(_0x57237c){console[_0x1084('0x24')](_0x57237c);alert(_0x57237c);return;}if(_0x50456d['confidencesByLabel']){const _0x4bd0df=_0x50456d[_0x1084('0x4c')];var _0x557b68=![];var _0x5f28b7;var _0x580f39=[];for(k in DataInfoRepository){var _0x448df8=DataInfoRepository[k][_0x1084('0x1f')];var _0x3861a8=DataInfoRepository[k][_0x1084('0x17')];var _0x3fd55e=DataInfoRepository[k][_0x1084('0x18')];var _0x3dd2c0=DataInfoRepository[k][_0x1084('0x28')];var _0x3a95fe=_0x4bd0df[_0x448df8]*0x64;if(parseFloat(_0x3a95fe)>=parseFloat(_0x479eb4)){_0x557b68=!![];if(!_0x580f39[_0x1084('0x4d')](_0x448df8)){_0x580f39[_0x1084('0x19')](_0x448df8);var _0x3d6703=_0x1084('0x4e')+_0x1084('0x4f')+_0x1084('0x50')+_0x448df8+'</td>\x20'+_0x1084('0x50')+_0x3861a8+_0x1084('0x51')+_0x1084('0x50')+_0x3a95fe+_0x1084('0x52')+_0x1084('0x53');$(_0x1084('0x4b'))[_0x1084('0x54')](_0x3d6703);}}}if(_0x557b68==!![])mAlertMsg(_0x1084('0x55'),0x0);else mAlertMsg(_0x1084('0x56'),0x2);}var _0xe248e3=_0x50456d[_0x1084('0x4c')];console[_0x1084('0x47')](_0x50456d);}function clearAllClasses(){knnClassifier[_0x1084('0x57')]();updateExampleCounts();}function updateExampleCounts(){const _0x36489d=knnClassifier[_0x1084('0x58')]();}function cmbControl(_0x4da880,_0x391300,_0xea3e53){var _0x116cc7=document['getElementById'](_0x4da880);var _0x4f6d93=document['createElement']('option');_0x4f6d93['text']=_0xea3e53;_0x4f6d93[_0x1084('0x2a')]=_0x391300;_0x116cc7[_0x1084('0x21')](_0x4f6d93);}